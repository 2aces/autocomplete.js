<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <style>
      .my-custom-menu {
        width: 400px;
        border: 1px solid #ccc;
      }

      .tt-cursor {
        background: blue;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <form action="/where" method="GET">
        <div class="typeahead-wrapper">
          <input id="contacts" name="contacts" type="text">
          <input id="contacts2" name="contacts2" type="text">
          <input type="submit">
        </div>
      </form>
    </div>

    <script src="../../node_modules/jquery/dist/jquery.js"></script>
    <script src="../../dist/typeahead.jquery.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script type="text/template" id="my-custom-menu-template">
      <div class="my-custom-menu">
        <div class="row">
          <div class="col-sm-6">
            <div class="tt-dataset-contacts1"></div>
          </div>
          <div class="col-sm-6">
            <div class="tt-dataset-contacts2"></div>
            <div class="tt-dataset-contacts3"></div>
          </div>
        </div>
      </div>
    </script>
    <script>
      var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');
      var index = client.initIndex('contacts');

      $('#contacts').typeahead({}, [
        {
          source: index.ttAdapter({ hitsPerPage: 5 }),
          templates: {
            suggestion: function(suggestion) {
              return suggestion._highlightResult.name.value;
            }
          }
        }
      ]);

      $('#contacts2').typeahead({ menuTemplate: '#my-custom-menu-template' }, [
        {
          source: index.ttAdapter({ hitsPerPage: 5 }),
          name: 'contacts1',
          templates: {
            header: '<h4>List 1</h4>',
            suggestion: function(suggestion) {
              return suggestion._highlightResult.name.value;
            }
          }
        },
        {
          source: index.ttAdapter({ hitsPerPage: 2 }),
          name: 'contacts2',
          templates: {
            header: '<h4>List 2</h4>',
            suggestion: function(suggestion) {
              return suggestion._highlightResult.name.value;
            }
          }
        },
        {
          source: index.ttAdapter({ hitsPerPage: 2 }),
          name: 'contacts3',
          templates: {
            header: '<h4>List 3</h4>',
            suggestion: function(suggestion) {
              return suggestion._highlightResult.name.value;
            }
          }
        }
      ]);
    </script>
  </body>
</html>
